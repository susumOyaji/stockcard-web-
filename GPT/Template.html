<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width" />
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="items.css" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <title>StockCard(Web)-Node.js</title>
    <style>
        html {
            background-color: rgb(240, 240, 240);
        }
    </style>
    <title>ListView Sample</title>

</head>

<body>
    <div id="stocks_container">
        <h1>StockCard</h1>
        <div id="dey"></div>
    </div>

    <div id="average_container">

        <label class="material-icons">trending_up</label>

        <div class="Price-container">


            <label class="dow_circle"></label>
            <label>Dow Price:$&nbsp;</label>
            <label id="dow-container"></label>
            <br>
            <a><span></span>The day before reshio:$&nbsp;</a>
            <label id="dowreshio-container"></label>

            <br>
            <label class="circle"></label>
            <label>Nikkei Price:￥</label>
            <label id="nk-container"> </label>
            <br>
            <a><span></span>The day before reshio:￥</a>
            <a id="nkreshio-container"></a>

        </div>
    </div>

    <div id="market-container">
        <label class="material-icons">currency_yen</label>
        <div class="marketPrice-container">
            <div><b><span id="Market">Market capitalization</span></b></div>
            <label class="circle"></label>
            <b>Market price:&nbsp;</b>
            <label id="Market-price"></label>
            <br>
            <label>
                <span1></span1>Profit(Gains):￥
            </label>
            <label id="profit"></label>
            <label>
                <span1></span1>Investment:￥
            </label>
            <label id="invest"></label>
        </div>

    </div>




    <div id="listview-container"></div>

    <p><input type="button" value="項目を追加する" onClick="myItemField.add();" /></p>
    <p><input type="button" value="項目を削除する" onClick="myItemField.remove();" /></p>



    <script>
        function ItemField() {
            var currentNumber = 0;
            var itemTemplate = '<div class="Code-circle"><div class="Code" id="code__count__"></div> </div>'
                + '<div class="Market"><label id="Name__count__"></label><br>'
                + '<label>Market:</label><label id="ListviewMarket__count__"></label>'
                + '<label><span1></span1>Benefits:</label><label id="benefit__count__"></label><br>'
                + '<label>Evaluation:</label><label id="evalu__count__"></label></div>'
                + '<button class="Button" id="previous__count__" type="button">btn</button>';

            this.add = function (name, market, benefits, evaluation, button) {
                currentNumber++;


                // 新しいアイテムを作成する
                var newItem = document.createElement("div");

                var addItem = itemTemplate.replace(/__count__/mg, currentNumber);
                newItem.innerHTML = addItem;


                // アイテムに一意のIDを割り当てる
                newItem.id = "item-" + currentNumber;//Math.floor(Math.random() * 100);

                // Newアイテムにitemクラスを追加する class="item"
                newItem.classList.add("item");

                // アイテムをリストに追加する
                document.getElementById("listview-container").appendChild(newItem);



                var Code = document.getElementById("code" + currentNumber);
                console.log(Code);
                Code.innerHTML = name;

                var Name = document.getElementById("Name" + currentNumber);
                console.log(Name);
                Name.innerHTML = name;

                var Market = document.getElementById("ListviewMarket" + currentNumber);
                console.log(Market);
                Market.innerHTML = market;

                var Benefits = document.getElementById("benefit" + currentNumber);
                console.log(Benefits);
                Benefits.innerHTML = benefits;

                var Evaluation = document.getElementById("evalu" + currentNumber);
                console.log(Evaluation);
                Evaluation.innerHTML = evaluation;

                var Previous = document.getElementById("previous" + currentNumber);
                console.log(Previous);
                Previous.innerHTML = button;
                Previous.addEventListener("click", function () {
                    alert("ボタンがクリックされました！"+Previous.id);
                }); // ボタンにonclickイベントを設定


            };
            this.remove = function () {
                if (currentNumber == 1) { return; }

                var field = document.getElementById('item-' + currentNumber);
                field.removeChild(field.lastChild);
                field.innerHTML = '';

                currentNumber--;
                // remove処理
            };
        }

        var myItemField = new ItemField();
        myItemField.add("6758", "2000", "3000", "4000", "Button1");
        myItemField.add("Sony111", "1000", "2000", "3000", "Button2");
        myItemField.add("Sony111", "1000", "2000", "3000", "Button2");
        //myItemField.remove();





















        /*
                var ItemField = {
                    currentNumber: 3,
                    itemTemplate: '<div class="Code-circle"><div class="code"></div> </div>'
                        + '<div class="Market"><label id="Name__count__"></label><br>'
                        + '<label>Market:</label><label id="ListviewMarket__count__"></label>'
                        + '<label><span1></span1>Benefits:</label><label id="benefit__count__"></label><br>'
                        + '<label>Evaluation:</label><label id="evalu__count__"></label></div>',
        
                    add: function (name, market, benefits, evaluation) {
                        this.currentNumber++;
        
        
                        // 新しいアイテムを作成する
                        var newItem = document.createElement("div");
        
                        var addItem = this.itemTemplate.replace(/__count__/mg, this.currentNumber);
                        newItem.innerHTML = addItem;
        
        
                        // アイテムに一意のIDを割り当てる
                        newItem.id = "item-" + this.currentNumber;//Math.floor(Math.random() * 100);
        
                        // Newアイテムにitemクラスを追加する class="item"
                        newItem.classList.add("item");
        
                        // アイテムをリストに追加する
                        document.getElementById("listview-container").appendChild(newItem);
        
        
        
        
        
        
                        var Id = document.getElementById(newItem.id);
                        console.log(Id);
        
        
                        var Name = document.getElementById("Name" + this.currentNumber);
                        console.log(Name);
                        Name.innerHTML = name;
        
        
        
                        var Market = document.getElementById("ListviewMarket" + this.currentNumber);
                        console.log(Market);
                        Market.innerHTML = market;
        
        
                        var Benefits = document.getElementById("benefit" + this.currentNumber);
                        console.log(Benefits);
                        Benefits.innerHTML = benefits;
        
                        var Evaluation = document.getElementById("evalu" + this.currentNumber);
                        console.log(Evaluation);
                        Evaluation.innerHTML = evaluation;
        
        
        
        
                        var field = document.getElementById('listview-container' + this.currentNumber);
        
                        var newItem = this.itemTemplate.replace(/__count__/mg, this.currentNumber);
                        //field.innerHTML = "";//newItem;
        
                        var nextNumber = this.currentNumber + 1;
                        var new_area = document.createElement("div");
                        new_area.setAttribute("id", "listview-container" + nextNumber);
                        field.appendChild(new_area);
                    },
                    remove: function () {
                        if (this.currentNumber == 1) { return; }
        
                        var field = document.getElementById('listview-container' + this.currentNumber);
                        field.removeChild(field.lastChild);
                        field.innerHTML = '';
        
                        this.currentNumber--;
                    }
                }
                ItemField.add("Sony444", "1000", "2000", "3000");
                ItemField.add("Sony333", "3000", "4000", "5000");
        
        */






    </script>


</body>

</html>